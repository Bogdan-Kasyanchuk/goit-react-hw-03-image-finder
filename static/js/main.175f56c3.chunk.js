(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__1MK29","search-form":"SearchBar_search-form__1u2cN","search-form-button":"SearchBar_search-form-button__3yOaU","search-form-button-label":"SearchBar_search-form-button-label__3hY4q","search-form-input":"SearchBar_search-form-input__rJonU"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__2t4IP",modal:"Modal_modal__386fX","button-close":"Modal_button-close__1ogvv"}},18:function(e,t,a){e.exports={"gallery-item":"ImageGalleryItem_gallery-item__3tUMR","gallery-item-image":"ImageGalleryItem_gallery-item-image__tPJFt"}},19:function(e,t,a){e.exports={button:"Button_button__bGLMH","load-button":"Button_load-button__3D7zc","up-button":"Button_up-button__FQcHo"}},29:function(e,t,a){e.exports={container:"Container_container__3GOQu"}},31:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__2j2lR"}},33:function(e,t,a){e.exports={"loading-wrapper":"Loading_loading-wrapper__2TwTP"}},36:function(e,t,a){e.exports={"image-finder":"ImageFinder_image-finder__6zAgr"}},41:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(5),c=a.n(o),s=(a(41),a(12)),i=(a(42),a(29)),l=a.n(i),u=a(2),h=function(e){var t=e.children;return Object(u.jsx)("div",{className:l.a.container,children:t})},m=a(10),d=a.n(m),p=a(20),b=a(15),f=a(6),g=a(7),j=a(9),y=a(8),v=a(30),O=a(3),_=a.n(O),x=function(e,t){return Object(s.c)(t,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,transition:s.a,type:e})};x.propTypes={type:_.a.string.isRequired,nameToastify:_.a.string.isRequired};var w=x,S=a(11),k=a.n(S),C=function(e){Object(j.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:""},e.handleChange=function(t){e.setState({searchQuery:t.target.value.toLowerCase()})},e.handleSubmit=function(t){var a=e.state.searchQuery;t.preventDefault(),""===a.trim()?w("warning","Enter the name of the picture or photo!"):(e.props.onSubmit(a.trim()),e.setState({searchQuery:""}))},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.state.searchQuery;return Object(u.jsx)("header",{className:k.a.searchbar,children:Object(u.jsxs)("form",{className:k.a["search-form"],onSubmit:this.handleSubmit,children:[Object(u.jsxs)("button",{type:"submit",className:k.a["search-form-button"],children:[Object(u.jsx)(v.a,{style:{width:22,height:22}}),Object(u.jsx)("span",{className:k.a["search-form-button-label"],children:"Search"})]}),Object(u.jsx)("input",{className:k.a["search-form-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})]})})}}]),a}(n.Component),N=a(18),M=a.n(N),L=function(e){var t=e.webformatURL,a=e.user,n=e.largeImageURL;return Object(u.jsx)("li",{className:M.a["gallery-item"],children:Object(u.jsx)("img",{className:M.a["gallery-item-image"],src:t,alt:a,"data-fullsize":n})})},Q=a(31),B=a.n(Q),I=function(e){var t=e.images,a=e.onClick;return Object(u.jsx)("ul",{className:B.a.gallery,onClick:a,children:t.map((function(e){return Object(u.jsx)(L,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,user:e.user},e.id)}))})},R=a(32),U=a.n(R),z=a(33),T=a.n(z),q=function(){return Object(u.jsxs)("div",{className:T.a["loading-wrapper"],children:[Object(u.jsx)(U.a,{type:"Watch",color:"#3f51b5",height:300,width:300}),";"]})},D=a(34),E=a(16),F=a.n(E),P=document.querySelector("#modal-root"),G=function(e){Object(j.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e.handleClick=function(){e.props.onClose()},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.fullSize,a=e.name;return Object(o.createPortal)(Object(u.jsxs)("div",{className:F.a.overlay,onClick:this.handleBackdropClick,children:[Object(u.jsx)("div",{className:F.a.modal,children:Object(u.jsx)("img",{src:t,alt:a})}),Object(u.jsx)("button",{type:"button",className:F.a["button-close"],onClick:this.handleClick,children:Object(u.jsx)(D.a,{style:{width:36,height:36}})})]}),P)}}]),a}(n.Component),A=G,H=a(19),J=a.n(H),K=function(e){var t=e.name,a=e.nameClass,n=e.onClick;return Object(u.jsx)("button",{type:"button",className:"".concat(J.a.button," ").concat(J.a[a]),onClick:n,children:t})},W=a(35),X=a.n(W),Y="23972474-59b971b2a70ac3d99136f23c2",V="https://pixabay.com/api",Z=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("".concat(V,"/?q=").concat(t,"&page=").concat(a,"&key=").concat(Y,"&image_type=photo&orientation=horizontal&per_page=12"));case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data.hits);case 5:throw new Error(n.status);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Z.propTypes={searchQuery:_.a.string.isRequired,page:_.a.number.isRequired};var $=Z,ee=function(){var e=document.documentElement.offsetHeight-965;window.scrollTo({top:e,behavior:"smooth"})},te=function(){window.scrollTo({top:0,behavior:"smooth"})},ae=a(36),ne=a.n(ae),re="pending",oe="resolved",ce=function(e){Object(j.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:"",images:[],status:null,showModal:!1,alt:null,fullSize:null,page:1},e.handleFormSubmit=function(t){e.setState({searchQuery:t,page:1})},e.handleClick=function(t){var a=e.state.showModal;if(a)e.setState({showModal:!a,alt:null,fullSize:null});else{if("IMG"!==t.target.nodeName)return;e.setState({showModal:!a,alt:t.target.alt,fullSize:t.target.dataset.fullsize})}},e.getLoadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(g.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(b.a)(d.a.mark((function e(t,a){var n,r,o,c,s,i,l=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=re,r=oe,o=this.state,c=o.searchQuery,s=o.images,i=o.page,a.searchQuery!==c||a.page!==i){e.next=4;break}return e.abrupt("return");case 4:return this.setState({status:n}),e.next=7,$(c,i).then((function(e){return 0===e.length?(w("warning","Sorry, there are no images matching your search query. Please try again."),l.setState({images:[]})):a.searchQuery===c?l.setState({images:[].concat(Object(p.a)(s),Object(p.a)(e))}):l.setState({images:e}),l.setState({status:r})})).catch((function(e){l.setState({status:null}),w("error","".concat(e))})).finally((function(){ee()}));case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,n=e.showModal,r=e.alt,o=e.fullSize;return Object(u.jsxs)("div",{className:ne.a["image-finder"],children:[Object(u.jsx)(C,{onSubmit:this.handleFormSubmit}),"pending"===a&&Object(u.jsx)(q,{}),"resolved"===a&&Object(u.jsx)(I,{images:t,onClick:this.handleClick}),t.length>11&&Object(u.jsx)(K,{name:"Load more",nameClass:"load-button",onClick:this.getLoadMore}),t.length>0&&Object(u.jsx)(K,{name:"To UP",nameClass:"up-button",onClick:te}),n&&Object(u.jsx)(A,{onClose:this.handleClick,fullSize:o,name:r})]})}}]),a}(n.Component),se=ce;var ie=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h,{children:Object(u.jsx)(se,{})}),Object(u.jsx)(s.b,{})]})};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(ie,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.175f56c3.chunk.js.map